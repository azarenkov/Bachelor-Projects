<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>BMI Calculator</title>
        <link rel="stylesheet" href="/styles.css" />
    </head>
    <body>
        <div class="container">
            <div class="calculator-card">
                <h1>BMI Calculator</h1>
                <p class="subtitle">Calculate your Body Mass Index</p>

                <form id="bmiForm" action="/calculate-bmi" method="POST">
                    <div class="form-group">
                        <label for="weight">Weight (kg)</label>
                        <input
                            type="number"
                            id="weight"
                            name="weight"
                            placeholder="Enter your weight in kg"
                            step="0.1"
                            required
                        />
                    </div>

                    <div class="form-group">
                        <label for="height">Height (m)</label>
                        <input
                            type="number"
                            id="height"
                            name="height"
                            placeholder="Enter your height in meters"
                            step="0.01"
                            required
                        />
                    </div>

                    <button type="submit" class="btn-calculate">
                        Calculate BMI
                    </button>
                </form>

                <div class="info-section">
                    <h3>BMI Categories:</h3>
                    <ul>
                        <li>
                            <span class="category underweight"
                                >Underweight:</span
                            >
                            BMI &lt; 18.5
                        </li>
                        <li>
                            <span class="category normal">Normal weight:</span>
                            18.5 ≤ BMI &lt; 24.9
                        </li>
                        <li>
                            <span class="category overweight">Overweight:</span>
                            25 ≤ BMI &lt; 29.9
                        </li>
                        <li>
                            <span class="category obese">Obese:</span> BMI ≥ 30
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <script>
            // Client-side validation
            document
                .getElementById("bmiForm")
                .addEventListener("submit", function (e) {
                    const weight = parseFloat(
                        document.getElementById("weight").value,
                    );
                    const height = parseFloat(
                        document.getElementById("height").value,
                    );

                    if (weight <= 0 || height <= 0) {
                        e.preventDefault();
                        alert(
                            "Please enter positive numbers for weight and height!",
                        );
                        return false;
                    }

                    if (height > 3) {
                        e.preventDefault();
                        alert(
                            "Height seems too large. Please enter height in meters (e.g., 1.75 for 175cm)",
                        );
                        return false;
                    }

                    if (weight > 500) {
                        e.preventDefault();
                        alert(
                            "Weight seems unrealistic. Please check your input.",
                        );
                        return false;
                    }
                });
        </script>
    </body>
</html>
